{"version":3,"file":"scryll.cjs.development.js","sources":["../src/index.ts"],"sourcesContent":["interface Config {\n  init: boolean,\n  direction: \"vertical\" | \"horizontal\"\n}\n\ninterface Event {\n  target: {\n    scrollTop: number\n    scrollLeft: number\n  }\n}\n\ninterface Element {\n  scrollTop: number\n  scrollLeft: number\n  addEventListener: (name: string, listener: Function) => void\n  removeEventListener: (name: string, listener: Function) => void\n}\n\nconst scryll = (\n  selector1: string,\n  selector2: string,\n  config: Config\n) => {\n  let preventScrollEvent: Boolean = false;\n  const isEmpty = (val: any) => (val === undefined || val === null);\n  const getElement = (val: string) => {\n    const el: Element = document.querySelector(val) as any;\n    return el\n  }\n\n  config = Object.assign({}, { init: true, direction: 'vertical' }, config);\n\n  const onScroll = () => {\n    if (preventScrollEvent) {\n      preventScrollEvent = false;\n      return;\n    }\n    preventScrollEvent = true;\n  };\n\n  function onElement1Scroll (event: Event) {\n    const element2 = getElement(selector2);\n\n    onScroll();\n    if (config.direction === 'vertical') {\n      element2.scrollTop = event.target.scrollTop;\n    } else {\n      element2.scrollLeft = event.target.scrollLeft;\n    }\n  };\n\n  function onElement2Scroll (event: Event) {\n    const element1 = getElement(selector1);\n\n    onScroll();\n    if (config.direction === 'vertical') {\n      element1.scrollTop = event.target.scrollTop;\n    } else {\n      element1.scrollLeft = event.target.scrollLeft;\n    }\n  };\n\n  const init = () => {\n    if (isEmpty(selector1) || isEmpty(selector2)) {\n      new Error('You most provide a valid selector');\n      return;\n    }\n\n    const element1 = getElement(selector1);\n    const element2 = getElement(selector2);\n\n    if (isEmpty(element1) || isEmpty(element2)) {\n      new Error('Scroll element could not be found');\n      return;\n    }\n\n    preventScrollEvent = false;\n    element1.addEventListener('scroll', onElement1Scroll);\n    element2.addEventListener('scroll', onElement2Scroll);\n  };\n\n  const kill = () => {\n    const element1 = getElement(selector1);\n    const element2 = getElement(selector2);\n\n    preventScrollEvent = false;\n    element1.removeEventListener('scroll', onElement1Scroll);\n    element2.removeEventListener('scroll', onElement2Scroll);\n  };\n\n  if (config.init === true) {\n    init();\n  }\n\n  return {\n    init,\n    kill,\n  };\n};\n\nexport default scryll;\n"],"names":["scryll","selector1","selector2","config","isEmpty","val","undefined","getElement","el","document","querySelector","Object","assign","init","direction","onElement1Scroll","event","element2","scrollTop","target","scrollLeft","onElement2Scroll","element1","addEventListener","kill","removeEventListener"],"mappings":";;;;AAmBA,IAAMA,MAAM,GAAG,SAATA,MAAS,CACbC,SADa,EAEbC,SAFa,EAGbC,MAHa;;EAMb,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;IAAA,OAAeA,GAAG,KAAKC,SAAR,IAAqBD,GAAG,KAAK,IAA5C;GAAhB;;EACA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACF,GAAD;IACjB,IAAMG,EAAE,GAAYC,QAAQ,CAACC,aAAT,CAAuBL,GAAvB,CAApB;IACA,OAAOG,EAAP;GAFF;;EAKAL,MAAM,GAAGQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB;IAAEC,IAAI,EAAE,IAAR;IAAcC,SAAS,EAAE;GAA3C,EAAyDX,MAAzD,CAAT;;EAUA,SAASY,gBAAT,CAA2BC,KAA3B;IACE,IAAMC,QAAQ,GAAGV,UAAU,CAACL,SAAD,CAA3B;;IAGA,IAAIC,MAAM,CAACW,SAAP,KAAqB,UAAzB,EAAqC;MACnCG,QAAQ,CAACC,SAAT,GAAqBF,KAAK,CAACG,MAAN,CAAaD,SAAlC;KADF,MAEO;MACLD,QAAQ,CAACG,UAAT,GAAsBJ,KAAK,CAACG,MAAN,CAAaC,UAAnC;;;;EAIJ,SAASC,gBAAT,CAA2BL,KAA3B;IACE,IAAMM,QAAQ,GAAGf,UAAU,CAACN,SAAD,CAA3B;;IAGA,IAAIE,MAAM,CAACW,SAAP,KAAqB,UAAzB,EAAqC;MACnCQ,QAAQ,CAACJ,SAAT,GAAqBF,KAAK,CAACG,MAAN,CAAaD,SAAlC;KADF,MAEO;MACLI,QAAQ,CAACF,UAAT,GAAsBJ,KAAK,CAACG,MAAN,CAAaC,UAAnC;;;;EAIJ,IAAMP,IAAI,GAAG,SAAPA,IAAO;IACX,IAAIT,OAAO,CAACH,SAAD,CAAP,IAAsBG,OAAO,CAACF,SAAD,CAAjC,EAA8C;MAE5C;;;IAGF,IAAMoB,QAAQ,GAAGf,UAAU,CAACN,SAAD,CAA3B;IACA,IAAMgB,QAAQ,GAAGV,UAAU,CAACL,SAAD,CAA3B;;IAEA,IAAIE,OAAO,CAACkB,QAAD,CAAP,IAAqBlB,OAAO,CAACa,QAAD,CAAhC,EAA4C;MAE1C;;IAIFK,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoCR,gBAApC;IACAE,QAAQ,CAACM,gBAAT,CAA0B,QAA1B,EAAoCF,gBAApC;GAhBF;;EAmBA,IAAMG,IAAI,GAAG,SAAPA,IAAO;IACX,IAAMF,QAAQ,GAAGf,UAAU,CAACN,SAAD,CAA3B;IACA,IAAMgB,QAAQ,GAAGV,UAAU,CAACL,SAAD,CAA3B;IAGAoB,QAAQ,CAACG,mBAAT,CAA6B,QAA7B,EAAuCV,gBAAvC;IACAE,QAAQ,CAACQ,mBAAT,CAA6B,QAA7B,EAAuCJ,gBAAvC;GANF;;EASA,IAAIlB,MAAM,CAACU,IAAP,KAAgB,IAApB,EAA0B;IACxBA,IAAI;;;EAGN,OAAO;IACLA,IAAI,EAAJA,IADK;IAELW,IAAI,EAAJA;GAFF;AAID,CAhFD;;;;"}